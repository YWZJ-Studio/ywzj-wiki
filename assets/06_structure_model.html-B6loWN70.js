import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,f as s,o}from"./app-BJRGbRwL.js";const n="/ywzj-wiki/images/obb.png",r="/ywzj-wiki/images/model_in_bb.png",a="/ywzj-wiki/images/obb_in_bb.png",p="/ywzj-wiki/images/obb_groups.png",c="/ywzj-wiki/images/draw_obb1.png",d="/ywzj-wiki/images/draw_obb2.png",l="/ywzj-wiki/images/draw_obb3.png",g={};function m(h,t){return o(),i("div",null,[...t[0]||(t[0]=[s('<h1 id="结构模型" tabindex="-1"><a class="header-anchor" href="#结构模型"><span>结构模型</span></a></h1><p>基岩模型似乎只能用于渲染，但YWZJ创新性地使用它来描述逻辑结构，服务端也因此需要加载存放于<code>data/tutorial/models/bedrock/vehicle/载具名.structure.json</code>的<strong>结构模型</strong>文件，其以载具配置的<code>structure_model</code>参数体现</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>&quot;structure_model&quot;: &quot;ywzj_vehicle:vehicle/ztz99a&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>结构模型</strong>的具象化是OBB，其广泛用于物理碰撞、精细命中、方位逻辑表达等场景</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>考虑计算复杂度，载具目前仅使用车体结构中最大的OBB来表现整体运动的物理效果</p></div><h2 id="关于obb" tabindex="-1"><a class="header-anchor" href="#关于obb"><span>关于OBB</span></a></h2><p>方向包围盒OBB（Oriented Bounding Box）是一种任意朝向的立方体状数学描述</p><p>基岩模型中的每一个块都可以视作一个OBB。在载具中，对于一个OBB，其三维可以描述一个部件的碰撞体积，其枢轴可以描述部件的方向机，其上一点可以描述成座位、镜头等随动点</p><div style="display:flex;justify-content:center;gap:10px;"><img src="'+n+'" style="width:80%;"></div><div style="display:flex;justify-content:center;gap:10px;"><p style="margin-top:10px;font-size:13px;">OBB表现的车体、炮塔、炮管等</p></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在YWZJ中，许多配置的自动计算都依赖于OBB，如玩家的乘坐位置、武器的炮口位置等</p></div><h2 id="开发工具" tabindex="-1"><a class="header-anchor" href="#开发工具"><span>开发工具</span></a></h2><p>文档撰写的目前，大部分载具模组的OBB配置往往基于代码硬编码或特殊格式，开发非常不便。YWZJ因<strong>使用基岩模型描述OBB</strong>，Blockbench下即可自由绘制OBB</p><div style="text-align:center;"><div style="display:flex;justify-content:center;gap:10px;"><img src="'+r+'" style="width:45%;"><img src="'+a+'" style="width:45%;"></div><p style="margin-top:10px;font-size:13px;">Blockbench中的载具模型与结构模型</p></div><h2 id="分组与枢轴" tabindex="-1"><a class="header-anchor" href="#分组与枢轴"><span>分组与枢轴</span></a></h2><p>与渲染用的<strong>视觉模型</strong>类似，<strong>结构模型</strong>也需要良好<strong>分组</strong>，并且<strong>枢轴</strong>位置关系与<strong>视觉模型</strong>一致，才可保证在复杂旋转时OBB的逻辑方向与载具的视觉方向一致</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><strong>结构模型</strong>中的组名有专用含义，如<code>vehicle_body</code>专属于车体，而其他组名与前文中载具<code>part</code>配置中的<code>structure_bone</code>参数对应，用于表达一个载具部件，如<code>turret</code>代表炮塔</p></div><div style="display:flex;justify-content:center;gap:10px;"><img src="'+p+'" style="width:80%;"></div><p>在本例中，显然，炮塔自身的炮管、炮塔的同轴机枪、高射机枪、烟雾弹发射器都是附着在炮塔上的，因此<strong>结构模型</strong>中，它们对应的部件OBB也分属于炮塔OBB的组下</p><p>若有更复杂的部件运动关系（<s>比如多炮塔神教</s>），显然需要更深层嵌套的OBB组来描述它们</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>武器单元是特殊的载具部件，其炮管与座圈分属于两个枢轴，因此需两个组来描述，其中约定名为<code>部件名_barrel</code>的组属于炮管组，如<code>turret_barrel</code>就是主炮塔的炮管组</p></div><div style="display:flex;justify-content:center;gap:10px;"><img src="'+c+'" style="width:80%;"></div><div style="display:flex;justify-content:center;gap:10px;"><p style="margin-top:10px;font-size:13px;">你可以直接在视觉模型上拖拽拉伸绘制结构模型</p></div><p>枢轴对齐是本章稍显费力的环节，因为基岩模型中，枢轴是嵌套递归计算绝对位置的，所以<strong>视觉模型</strong>中某结构的枢轴坐标往往不能直接抄给<strong>结构模型</strong></p><div style="text-align:center;"><div style="display:flex;justify-content:center;gap:10px;"><img src="'+d+'" style="width:45%;"><img src="'+l+'" style="width:45%;"></div><p style="margin-top:10px;font-size:13px;">炮塔的枢轴在视觉模型与结构模型的位置保持一致</p></div>',25)])])}const _=e(g,[["render",m]]),b=JSON.parse('{"path":"/zh/vehicle_pack/06_structure_model.html","title":"结构模型","lang":"zh-CN","frontmatter":{"order":6,"icon":"book","description":"结构模型 基岩模型似乎只能用于渲染，但YWZJ创新性地使用它来描述逻辑结构，服务端也因此需要加载存放于data/tutorial/models/bedrock/vehicle/载具名.structure.json的结构模型文件，其以载具配置的structure_model参数体现 结构模型的具象化是OBB，其广泛用于物理碰撞、精细命中、方位逻辑表达等场...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"结构模型\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-25T08:09:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"YWZJ\\",\\"url\\":\\"https://github.com/YWZJ-Studio\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/YWZJ-Studio/ywzj-wiki/zh/vehicle_pack/06_structure_model.html"}],["meta",{"property":"og:site_name","content":"永无止境：载具"}],["meta",{"property":"og:title","content":"结构模型"}],["meta",{"property":"og:description","content":"结构模型 基岩模型似乎只能用于渲染，但YWZJ创新性地使用它来描述逻辑结构，服务端也因此需要加载存放于data/tutorial/models/bedrock/vehicle/载具名.structure.json的结构模型文件，其以载具配置的structure_model参数体现 结构模型的具象化是OBB，其广泛用于物理碰撞、精细命中、方位逻辑表达等场..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-25T08:09:27.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-25T08:09:27.000Z"}]]},"git":{"createdTime":1769176195000,"updatedTime":1769328567000,"contributors":[{"name":"Ranpoes","username":"Ranpoes","email":"2213321305@qq.com","commits":3,"url":"https://github.com/Ranpoes"}]},"readingTime":{"minutes":3.06,"words":918},"filePathRelative":"zh/vehicle_pack/06_structure_model.md","autoDesc":true}');export{_ as comp,b as data};
